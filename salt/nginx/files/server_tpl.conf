{# Server Config Template Builder #}
{%- macro server_block(input, nl='\n', eol=';') -%}
    {%- for key, value in input.items() -%}
        {%- if value is string -%}
{{ nl }}{{ key }} {{ value|indent(2, True) }}{{ eol }}
        {%- elif value is mapping -%}
{{ nl }}{{ key }} {
    
}
        {%- endif -%}

    {%- endfor -%}

{%- endmacro -%}
# NGINX Server Configuration
#
# DO NOT EDIT THIS FILE (Your changes will be overwritten)
#
# Managed by SaltStack
server {

{{ server_block(content) }}

}